<crud [componente]="this" titulo=" regra por NCM" permissao="2.02">
    <div filtro class="row">

    </div>

    <div detalhes>

        <div class="row">
            <inputText md="2" label="NCM" [(ngModel)]="objetoSelecionado.ncm"
                [disabled]="(this.estadoTela == 'Alterar' ? true : false) || disableId"></inputText>
            <div class="ui-g-12 ui-md-5">
                <label>Cenário</label><br>
                <p-dropdown [options]="listaCenarios" [(ngModel)]="objetoSelecionado.cenario" [style]="{width: '100%'}"
                    [disabled]="(this.estadoTela == 'Alterar' ? true : false) || disableId">
                </p-dropdown>
            </div>
            <div class="ui-g-12 ui-md-5">
                <label>Regime Tributário</label><br>
                <p-dropdown [options]="regime" [(ngModel)]="objetoSelecionado.regimeTributario"
                    [style]="{width: '100%'}" [disabled]="(this.estadoTela == 'Alterar' ? true : false) || disableId"
                    (onChange)="selecionarRegime()">
                </p-dropdown>
            </div>
            <inputText md="2" label="Codigo do Cliente" name="clienteId"
                [f11]="!((this.estadoTela == 'Alterar' ? true : false) || disableId || (this.objetoSelecionado !=null && this.objetoSelecionado.ncm!=null && this.objetoSelecionado.ncm!=''))" (funF11)="openModalCliente()"
                [(ngModel)]="objetoSelecionado.cliente.id" (onChange)="selecionarCliente()"
                [disabled]="((this.estadoTela == 'Alterar' ? true : false) || disableId || (this.objetoSelecionado!=null && this.objetoSelecionado.ncm !=null && this.objetoSelecionado.ncm !=''))"></inputText>
            <inputText md="10" label="Cliente" name="clienteNome" [(ngModel)]="objetoSelecionado.cliente.razaoSocial"
                [disabled]="true"></inputText>
        </div>

        <p-tabView>
            <p-tabPanel leftIcon="fa fa-file-text" header="Tributação Federal">
                <div class="row">

                    <p-fieldset legend="PIS" class="ui-g-12">
                        <div class="ui-g-12 ui-md-10">
                            <label>CST</label><br>
                            <p-dropdown [(ngModel)]="objetoSelecionado.tributoFederalPadrao.cstPisSaidaPadrao"
                                [style]="{width: '100%'}" [options]="listaCSTPisCofins">
                            </p-dropdown>
                        </div>
                        <inputDecimal md="2" label="Alíquota"
                            [(ngModel)]="objetoSelecionado.tributoFederalPadrao.aliquotaPisSaidaPadrao"></inputDecimal>
                    </p-fieldset>

                    <p-fieldset legend="COFINS" class="ui-g-12">
                        <div class="ui-g-12 ui-md-10">
                            <label>CST</label><br>
                            <p-dropdown [(ngModel)]="objetoSelecionado.tributoFederalPadrao.cstCofinsSaidaPadrao"
                                [style]="{width: '100%'}" [options]="listaCSTPisCofins">
                            </p-dropdown>
                        </div>

                        <inputDecimal md="2" label="Alíquota"
                            [(ngModel)]="objetoSelecionado.tributoFederalPadrao.aliquotaCofinsSaidaPadrao">
                        </inputDecimal>
                    </p-fieldset>

                    <p-fieldset legend="IPI" class="ui-g-12">
                        <div class="ui-g-12 ui-md-10">
                            <label>CST</label><br>
                            <p-dropdown [(ngModel)]="objetoSelecionado.tributoFederalPadrao.cstIpiSaidaPadrao"
                                [style]="{width: '100%'}" [options]="listaCSTIPISaida">
                            </p-dropdown>
                        </div>

                        <inputDecimal md="2" label="Alíquota"
                            [(ngModel)]="objetoSelecionado.tributoFederalPadrao.aliquotaIpiSaidaPadrao"></inputDecimal>
                    </p-fieldset>

                </div>
            </p-tabPanel>
            <p-tabPanel leftIcon="fa fa-file-text" header="Tributação Estadual">
                <div class="row">
                    <p-fieldset legend="ICMS" class="ui-g-12">
                        <div class="ui-g-12 ui-md-10">
                            <label>CST</label><br>
                            <p-dropdown [(ngModel)]="objetoSelecionado.tributoEstadualPadrao.cstIcmsSaidaPadrao"
                                [style]="{width: '100%'}" [options]="listaCSTICMSSaida">
                            </p-dropdown>
                        </div>
                        <inputDecimal md="2" label="Alíquota"
                            [(ngModel)]="objetoSelecionado.tributoEstadualPadrao.aliquotaIcmsSaidaPadrao">
                        </inputDecimal>
                    </p-fieldset>
                </div>
            </p-tabPanel>
        </p-tabView>

        <div class="row">
            <div class="ui-g-12">
                <label>Embasamento Jurídico</label><br>
                <textarea pInputTextarea name="embasamentoJuridico" [(ngModel)]="objetoSelecionado.embasamentoJuridico"
                    style="width: 100%" [autoResize]="true"></textarea>
            </div>
        </div>
    </div>

</crud>